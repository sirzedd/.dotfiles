echo start

DISABLE_AUTO_TITLE="true"
ZSH_DISABLE_COMPFIX="true"

# vi editing mode in bash and in iTerm2
set -o vi

export DOTFILES=$HOME/.dotfiles
source $DOTFILES/personal/env

# Personal Source Dotfile Folders
sourceFolder "alias"
# sourceFolder "aws"
sourceFolder "docker"
sourceFolder "gradle"
# sourceFolder "mysql"
sourceFolder "terraform"
# sourceFolder "vault"
sourceFolder "zsh"

# export JAVA_HOME=$(/Users/jhendricks/.sdkman/candidates/java/current)

# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# export M2_HOME=/Users/jhendricks/.sdkman/candidates/maven/current
export SIR_DEV=/Users/jhendricks
export GOPATH=$SIR_DEV/go

# export PATH=$HOME/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/opt/python/libexec/bin:~/Library/Python/3.8/bin:$SIR_DEV/bin:$MAVEN_HOME/bin:$SDKMAN_HOME/bin:$HOME/.cargo/bin:$GOPATH/bin

addToPathFront $GOPATH/bin
addToPathFront $HOME/bin
addToPathFront /usr/local/bin
addToPathFront /usr/local/bin
addToPathFront /usr/bin
addToPathFront /bin
addToPathFront /usr/sbin
addToPathFront /sbin
addToPathFront /usr/local/opt/python/libexec/bin
addToPathFront $HOME/Library/Python/3.8/bin 
addToPathFront $SIR_DEV/bin
addToPathFront $MAVEN_HOME/bin
addToPathFront $SDKMAN_HOME/bin
addToPathFront $HOME/.cargo/bin

function ap() {
  if [[ $@ == *"-p"* ]]; then
    MY_INPUT=$(</dev/stdin)
    echo $MY_INPUT > /tmp/atom-project-tmp.diff
    groovy ~/bin/atom-project.groovy -f /tmp/atom-project-tmp.diff
  else
    groovy ~/bin/atom-project.groovy $@
  fi
}

# https://thevaluable.dev/zsh-completion-guide-examples/
local knownhosts
knownhosts=( ${${${${(f)"$(<$HOME/.ssh/known_hosts)"}:#[0-9]*}%%\ *}%%,*} )
zstyle ':completion:*:(ssh|scp|sftp):*' hosts $knownhosts

# https://github.com/zsh-users/zsh-completions

source <(git-town completions zsh)

echo loaded

# Unknown what this is for. Can enable iterm2 shell integration from iterm2, maybe it added it?
# test -e "${HOME}/.iterm2_shell_integration.zsh" && source "${HOME}/.iterm2_shell_integration.zsh"

autoload -U +X bashcompinit && bashcompinit

# I believe this comes from tfswitch for switching terraform and making sure to pick the right version?
complete -o nospace -C /usr/local/bin/terraform terraform

# Has to be last
sourceFolder "sdkman"